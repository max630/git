diff -ur git-core-1.4.4/debian/examples/index.aux-generation git-core-1.4.4.mine/debian/examples/index.aux-generation
--- git-core-1.4.4/debian/examples/index.aux-generation	2006-11-24 17:59:27.000000000 -0500
+++ git-core-1.4.4.mine/debian/examples/index.aux-generation	2006-11-24 18:01:12.000000000 -0500
@@ -15,7 +15,7 @@
 for a in * ; do [ -r $a/public_git ] && [ ! -d /home/git/users/$a ] && ln -s /home/$a/public_git /home/git/users/$a ; done
 
 cd /home/git
-ls */HEAD users/*/*/HEAD | grep ^[-./=+a-zA-Z0-9]*\$ | sed s:/HEAD\$:: | while read DIR ; do
+find . -name 'HEAD' | grep ^[-./=+a-zA-Z0-9]*\$ | sed s:/HEAD\$:: | while read DIR ; do
         TREEUID=`stat -c %U $DIR`
         TREEUSERNAME=`grep ^$TREEUID: /etc/passwd | cut -f5 -d: | sed s/\ /+/`
         if [ "$TREEUSERNAME" = "" ]; then
